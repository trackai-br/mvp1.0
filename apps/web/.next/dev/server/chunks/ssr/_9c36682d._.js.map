{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/guilhermesimas/Documents/hub-server-side-tracking/packages/shared/src/index.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const trackingEnvironmentSchema = z.enum(['lp', 'wpp', 'telegram']);\nexport const gatewaySchema = z.enum(['perfectpay']);\n\nexport const setupSessionCreateSchema = z.object({\n  projectName: z.string().min(1),\n  trackingEnvironment: trackingEnvironmentSchema,\n  landingUrl: z.string().url(),\n  meta: z.object({\n    pixelId: z.string().min(3),\n    accessToken: z.string().min(10),\n    adAccountId: z.string().min(3)\n  }),\n  gateway: z.object({\n    platform: gatewaySchema,\n    apiKey: z.string().min(8),\n    webhookSecret: z.string().min(8)\n  })\n});\n\nexport type SetupSessionCreateInput = z.infer<typeof setupSessionCreateSchema>;\n\nexport const stepStatusSchema = z.enum(['pending', 'ok', 'failed']);\n\nexport const setupSessionStatusSchema = z.object({\n  id: z.string(),\n  projectName: z.string(),\n  state: z.enum(['created', 'validated', 'troubleshooting_required']),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  input: setupSessionCreateSchema,\n  webhook: z.object({\n    provider: gatewaySchema,\n    path: z.string(),\n    url: z.string().url(),\n    token: z.string()\n  }),\n  checks: z.object({\n    gatewayCredentials: stepStatusSchema,\n    metaToken: stepStatusSchema,\n    landingProbe: stepStatusSchema\n  }),\n  issues: z.array(z.string())\n});\n\nexport type SetupSessionStatus = z.infer<typeof setupSessionStatusSchema>;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,MAAM,4BAA4B,kLAAC,CAAC,IAAI,CAAC;IAAC;IAAM;IAAO;CAAW;AAClE,MAAM,gBAAgB,kLAAC,CAAC,IAAI,CAAC;IAAC;CAAa;AAE3C,MAAM,2BAA2B,kLAAC,CAAC,MAAM,CAAC;IAC/C,aAAa,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC5B,qBAAqB;IACrB,YAAY,kLAAC,CAAC,MAAM,GAAG,GAAG;IAC1B,MAAM,kLAAC,CAAC,MAAM,CAAC;QACb,SAAS,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACxB,aAAa,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC5B,aAAa,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC9B;IACA,SAAS,kLAAC,CAAC,MAAM,CAAC;QAChB,UAAU;QACV,QAAQ,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACvB,eAAe,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAChC;AACF;AAIO,MAAM,mBAAmB,kLAAC,CAAC,IAAI,CAAC;IAAC;IAAW;IAAM;CAAS;AAE3D,MAAM,2BAA2B,kLAAC,CAAC,MAAM,CAAC;IAC/C,IAAI,kLAAC,CAAC,MAAM;IACZ,aAAa,kLAAC,CAAC,MAAM;IACrB,OAAO,kLAAC,CAAC,IAAI,CAAC;QAAC;QAAW;QAAa;KAA2B;IAClE,WAAW,kLAAC,CAAC,MAAM;IACnB,WAAW,kLAAC,CAAC,MAAM;IACnB,OAAO;IACP,SAAS,kLAAC,CAAC,MAAM,CAAC;QAChB,UAAU;QACV,MAAM,kLAAC,CAAC,MAAM;QACd,KAAK,kLAAC,CAAC,MAAM,GAAG,GAAG;QACnB,OAAO,kLAAC,CAAC,MAAM;IACjB;IACA,QAAQ,kLAAC,CAAC,MAAM,CAAC;QACf,oBAAoB;QACpB,WAAW;QACX,cAAc;IAChB;IACA,QAAQ,kLAAC,CAAC,KAAK,CAAC,kLAAC,CAAC,MAAM;AAC1B"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/guilhermesimas/Documents/hub-server-side-tracking/apps/web/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useMutation } from '@tanstack/react-query';\nimport { useMemo, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { setupSessionCreateSchema, type SetupSessionStatus } from '@hub/shared';\nimport type { CSSProperties } from 'react';\nimport type { z } from 'zod';\n\ntype FormInput = z.infer<typeof setupSessionCreateSchema>;\n\ntype WizardStep = 1 | 2 | 3 | 4;\n\ntype SourceItem = {\n  id: string;\n  name: string;\n  upgradeRequired?: boolean;\n};\n\ntype IntegrationItem = {\n  id: string;\n  name: string;\n  upgradeRequired?: boolean;\n};\n\nconst DATA_SOURCES: SourceItem[] = [\n  { id: 'facebook', name: 'Facebook Pixel' },\n  { id: 'google-ads', name: 'Google Ads' },\n  { id: 'tiktok', name: 'TikTok Pixel' },\n  { id: 'bing', name: 'Bing' },\n  { id: 'taboola', name: 'Taboola' },\n  { id: 'outbrain', name: 'Outbrain' },\n  { id: 'ga4', name: 'Google Analytics 4', upgradeRequired: true }\n];\n\nconst POPULAR_INTEGRATIONS: IntegrationItem[] = [\n  { id: 'perfectpay', name: 'Perfect Pay' },\n  { id: 'hotmart', name: 'Hotmart', upgradeRequired: true },\n  { id: 'kiwify', name: 'Kiwify', upgradeRequired: true },\n  { id: 'stripe', name: 'Stripe', upgradeRequired: true },\n  { id: 'shopify', name: 'Shopify', upgradeRequired: true }\n];\n\nfunction apiUrl(path: string): string {\n  const base = process.env.NEXT_PUBLIC_API_URL ?? '';\n  return base ? `${base}${path}` : path;\n}\n\nasync function createSession(payload: FormInput): Promise<SetupSessionStatus> {\n  const res = await fetch(apiUrl('/api/v1/setup/sessions'), {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload)\n  });\n\n  if (!res.ok) {\n    throw new Error('Falha ao criar sessao de setup.');\n  }\n\n  return res.json();\n}\n\nasync function validateSession(id: string): Promise<SetupSessionStatus> {\n  const res = await fetch(apiUrl(`/api/v1/setup/sessions/${id}/validate`), {\n    method: 'POST'\n  });\n\n  if (!res.ok) {\n    throw new Error('Falha ao validar sessao.');\n  }\n\n  return res.json();\n}\n\nfunction statusForStep(currentStep: WizardStep, itemStep: WizardStep): 'pending' | 'in_progress' | 'complete' {\n  if (currentStep > itemStep) return 'complete';\n  if (currentStep === itemStep) return 'in_progress';\n  return 'pending';\n}\n\nfunction StepCircle({ status, index }: { status: 'pending' | 'in_progress' | 'complete'; index: number }) {\n  const base: CSSProperties = {\n    width: 28,\n    height: 28,\n    borderRadius: 999,\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: 700,\n    fontSize: 13\n  };\n\n  if (status === 'complete') {\n    return <span style={{ ...base, background: '#2563eb', color: '#fff' }}>‚úì</span>;\n  }\n\n  if (status === 'in_progress') {\n    return <span style={{ ...base, background: '#2563eb', color: '#fff' }}>{index}</span>;\n  }\n\n  return (\n    <span\n      style={{\n        ...base,\n        background: '#e5e7eb',\n        color: '#6b7280',\n        border: '1px solid #d1d5db'\n      }}\n    >\n      {index}\n    </span>\n  );\n}\n\nexport default function Home() {\n  const [step, setStep] = useState<WizardStep>(1);\n  const [detectionDone, setDetectionDone] = useState(false);\n  const [selectedInstallMethod, setSelectedInstallMethod] = useState<'gtm' | 'manual' | null>(null);\n  const [connectedSources, setConnectedSources] = useState<SourceItem[]>([]);\n  const [addedIntegrations, setAddedIntegrations] = useState<IntegrationItem[]>([]);\n  const [integrationQuery, setIntegrationQuery] = useState('');\n  const [result, setResult] = useState<SetupSessionStatus | null>(null);\n\n  const form = useForm<FormInput>({\n    resolver: zodResolver(setupSessionCreateSchema),\n    defaultValues: {\n      projectName: 'Track AI',\n      trackingEnvironment: 'lp',\n      landingUrl: 'https://example.com',\n      meta: {\n        pixelId: '',\n        accessToken: '',\n        adAccountId: ''\n      },\n      gateway: {\n        platform: 'perfectpay',\n        apiKey: '',\n        webhookSecret: ''\n      }\n    },\n    mode: 'onBlur'\n  });\n\n  const submitMutation = useMutation({\n    mutationFn: async (values: FormInput) => {\n      const created = await createSession(values);\n      return validateSession(created.id);\n    },\n    onSuccess: (data) => {\n      setResult(data);\n      setStep(4);\n    }\n  });\n\n  const errorMessage = useMemo(() => {\n    if (!submitMutation.error) return null;\n    return submitMutation.error instanceof Error\n      ? submitMutation.error.message\n      : 'Erro inesperado.';\n  }, [submitMutation.error]);\n\n  const filteredIntegrations = useMemo(() => {\n    const q = integrationQuery.trim().toLowerCase();\n    return POPULAR_INTEGRATIONS.filter((item) => item.name.toLowerCase().includes(q));\n  }, [integrationQuery]);\n\n  function connectSource(item: SourceItem) {\n    if (item.upgradeRequired) return;\n    setConnectedSources((prev) => {\n      if (prev.some((s) => s.id === item.id)) return prev;\n      return [...prev, item];\n    });\n  }\n\n  function removeSource(itemId: string) {\n    setConnectedSources((prev) => prev.filter((s) => s.id !== itemId));\n  }\n\n  function addIntegration(item: IntegrationItem) {\n    if (item.upgradeRequired) return;\n    setAddedIntegrations((prev) => {\n      if (prev.some((i) => i.id === item.id)) return prev;\n      return [...prev, item];\n    });\n  }\n\n  const stepStatusLabel = step === 4 ? '‚úì Complete' : 'In progress';\n\n  return (\n    <main\n      style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%)',\n        padding: 24,\n        fontFamily: 'ui-sans-serif, system-ui, sans-serif'\n      }}\n    >\n      <div\n        style={{\n          maxWidth: 1120,\n          margin: '0 auto',\n          display: 'grid',\n          gridTemplateColumns: '280px 1fr',\n          gap: 16\n        }}\n      >\n        <aside\n          style={{\n            background: '#fff',\n            border: '1px solid #e5e7eb',\n            borderRadius: 16,\n            padding: 16,\n            height: 'fit-content',\n            position: 'sticky',\n            top: 16\n          }}\n        >\n          <h2 style={{ marginTop: 0, marginBottom: 12, fontSize: 18 }}>Track AI Onboarding</h2>\n          {[\n            'Instalar o Script',\n            'Conectar Redes de Anuncios',\n            'Conectar Integracoes',\n            'Concluido'\n          ].map((name, idx) => {\n            const itemStep = (idx + 1) as WizardStep;\n            const status = statusForStep(step, itemStep);\n            return (\n              <div\n                key={name}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 10,\n                  padding: '10px 8px',\n                  borderRadius: 10,\n                  background: status === 'in_progress' ? '#eff6ff' : 'transparent'\n                }}\n              >\n                <StepCircle status={status} index={idx + 1} />\n                <span style={{ fontWeight: status === 'in_progress' ? 700 : 500, color: '#111827' }}>\n                  {name}\n                </span>\n              </div>\n            );\n          })}\n        </aside>\n\n        <section\n          style={{\n            background: '#fff',\n            border: '1px solid #e5e7eb',\n            borderRadius: 16,\n            padding: 20,\n            minHeight: 620,\n            position: 'relative'\n          }}\n        >\n          <span\n            style={{\n              position: 'absolute',\n              top: 16,\n              right: 16,\n              fontSize: 12,\n              fontWeight: 700,\n              color: step === 4 ? '#065f46' : '#1d4ed8',\n              background: step === 4 ? '#d1fae5' : '#dbeafe',\n              borderRadius: 999,\n              padding: '6px 10px'\n            }}\n          >\n            {stepStatusLabel}\n          </span>\n\n          <form onSubmit={form.handleSubmit((values) => submitMutation.mutate(values))}>\n            {step === 1 && (\n              <div>\n                <h1 style={{ marginTop: 0 }}>Instalar o Script</h1>\n                <p style={{ color: '#4b5563' }}>\n                  Informe a URL do seu site para detectar a stack automaticamente.\n                </p>\n\n                <label htmlFor=\"trackingEnvironment\">Ambiente</label>\n                <select id=\"trackingEnvironment\" {...form.register('trackingEnvironment')}>\n                  <option value=\"lp\">Landing Page (LP)</option>\n                  <option value=\"wpp\">WhatsApp</option>\n                  <option value=\"telegram\">Telegram</option>\n                </select>\n\n                <div style={{ marginTop: 12 }}>\n                  <label htmlFor=\"landingUrl\">URL do site</label>\n                  <input id=\"landingUrl\" {...form.register('landingUrl')} style={{ width: '100%' }} />\n                  <p style={{ color: 'crimson' }}>{form.formState.errors.landingUrl?.message}</p>\n                </div>\n\n                {!detectionDone ? (\n                  <button type=\"button\" onClick={() => setDetectionDone(true)}>\n                    SCAN SITE\n                  </button>\n                ) : (\n                  <div style={{ marginTop: 16 }}>\n                    <p style={{ marginBottom: 8 }}>\n                      Tecnologias detectadas: <strong>Google Tag Manager</strong>\n                    </p>\n                    <div\n                      style={{\n                        display: 'grid',\n                        gridTemplateColumns: '1fr 1fr',\n                        gap: 10\n                      }}\n                    >\n                      <button type=\"button\" onClick={() => setSelectedInstallMethod('gtm')}>\n                        Instalar via GTM (detectado)\n                      </button>\n                      <button type=\"button\" onClick={() => setSelectedInstallMethod('manual')}>\n                        Instalar manualmente\n                      </button>\n                    </div>\n                    {selectedInstallMethod === 'manual' && (\n                      <pre\n                        style={{\n                          marginTop: 12,\n                          background: '#0f172a',\n                          color: '#e2e8f0',\n                          padding: 12,\n                          borderRadius: 10,\n                          overflowX: 'auto'\n                        }}\n                      >\n{`<script src=\"https://cdn.track-ai.app/script.js\" data-project=\"track-ai\"></script>`}\n                      </pre>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {step === 2 && (\n              <div>\n                <h1 style={{ marginTop: 0 }}>Conectar Redes de Anuncios</h1>\n                <p style={{ color: '#4b5563' }}>Conecte seus data sources principais.</p>\n\n                <label htmlFor=\"pixelId\">Pixel ID</label>\n                <input id=\"pixelId\" {...form.register('meta.pixelId')} style={{ width: '100%' }} />\n\n                <label htmlFor=\"accessToken\">Access Token</label>\n                <input id=\"accessToken\" {...form.register('meta.accessToken')} style={{ width: '100%' }} />\n\n                <label htmlFor=\"adAccountId\">Ad Account ID</label>\n                <input id=\"adAccountId\" {...form.register('meta.adAccountId')} style={{ width: '100%' }} />\n\n                <h3>Data Sources</h3>\n                <div style={{ display: 'grid', gap: 8 }}>\n                  {DATA_SOURCES.map((source) => (\n                    <div\n                      key={source.id}\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        border: '1px solid #e5e7eb',\n                        borderRadius: 10,\n                        padding: 10\n                      }}\n                    >\n                      <span>{source.name}</span>\n                      {source.upgradeRequired ? (\n                        <button type=\"button\" disabled>\n                          UPGRADE\n                        </button>\n                      ) : (\n                        <button type=\"button\" onClick={() => connectSource(source)}>\n                          CONNECT\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n\n                {connectedSources.length > 0 && (\n                  <>\n                    <h3>Added Data Sources</h3>\n                    <ul>\n                      {connectedSources.map((source) => (\n                        <li key={source.id}>\n                          <span style={{ color: '#16a34a' }}>‚óè</span> {source.name}{' '}\n                          <button type=\"button\" onClick={() => removeSource(source.id)}>\n                            REMOVE\n                          </button>\n                        </li>\n                      ))}\n                    </ul>\n                  </>\n                )}\n              </div>\n            )}\n\n            {step === 3 && (\n              <div>\n                <h1 style={{ marginTop: 0 }}>Conectar Integracoes</h1>\n                <p style={{ color: '#4b5563' }}>\n                  Adicione integracoes e configure as credenciais da Perfect Pay.\n                </p>\n\n                <input\n                  placeholder=\"Buscar integracao\"\n                  value={integrationQuery}\n                  onChange={(e) => setIntegrationQuery(e.target.value)}\n                  style={{ width: '100%', marginBottom: 12 }}\n                />\n\n                {addedIntegrations.length > 0 && (\n                  <>\n                    <h3>All Added Integrations</h3>\n                    <ul>\n                      {addedIntegrations.map((item) => (\n                        <li key={item.id}>\n                          {item.name} <button type=\"button\">SETUP INSTRUCTIONS</button>\n                        </li>\n                      ))}\n                    </ul>\n                  </>\n                )}\n\n                <h3>Popular Integrations</h3>\n                <div style={{ display: 'grid', gap: 8 }}>\n                  {filteredIntegrations.map((item) => (\n                    <div\n                      key={item.id}\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        border: '1px solid #e5e7eb',\n                        borderRadius: 10,\n                        padding: 10\n                      }}\n                    >\n                      <span>{item.name}</span>\n                      {item.upgradeRequired ? (\n                        <button type=\"button\" disabled>\n                          UPGRADE\n                        </button>\n                      ) : (\n                        <button type=\"button\" onClick={() => addIntegration(item)}>\n                          + ADD\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n\n                <input type=\"hidden\" {...form.register('gateway.platform')} value=\"perfectpay\" />\n\n                <div style={{ marginTop: 16 }}>\n                  <label htmlFor=\"apiKey\">Token/API Key da Perfect Pay</label>\n                  <input id=\"apiKey\" {...form.register('gateway.apiKey')} style={{ width: '100%' }} />\n                  <p style={{ color: 'crimson' }}>{form.formState.errors.gateway?.apiKey?.message}</p>\n                </div>\n\n                <div>\n                  <label htmlFor=\"webhookSecret\">Webhook Secret</label>\n                  <input\n                    id=\"webhookSecret\"\n                    {...form.register('gateway.webhookSecret')}\n                    style={{ width: '100%' }}\n                  />\n                  <p style={{ color: 'crimson' }}>{form.formState.errors.gateway?.webhookSecret?.message}</p>\n                </div>\n              </div>\n            )}\n\n            {step === 4 && result && (\n              <div style={{ textAlign: 'center', paddingTop: 60 }}>\n                <h1>üéâ Concluido</h1>\n                <p>Seu setup inicial foi processado com sucesso.</p>\n                <p>\n                  Estado: <strong>{result.state}</strong>\n                </p>\n                <p>Webhook Perfect Pay:</p>\n                <input readOnly value={result.webhook.url} style={{ width: '100%', fontFamily: 'monospace' }} />\n                <p style={{ color: '#4b5563' }}>\n                  Use esta URL para configurar o endpoint na Perfect Pay.\n                </p>\n                <button type=\"button\">GO TO DASHBOARD</button>\n                {result.issues.length > 0 && (\n                  <ul style={{ textAlign: 'left', marginTop: 16 }}>\n                    {result.issues.map((issue) => (\n                      <li key={issue}>{issue}</li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n            )}\n\n            {step < 4 && (\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: 20 }}>\n                <button type=\"button\" onClick={() => setStep((s) => (s > 1 ? ((s - 1) as WizardStep) : 1))}>\n                  BACK\n                </button>\n\n                {step === 1 && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setStep(2)}\n                    disabled={!detectionDone || selectedInstallMethod === null}\n                  >\n                    I'VE ADDED THE SCRIPT\n                  </button>\n                )}\n\n                {step === 2 && (\n                  <button type=\"button\" onClick={() => setStep(3)}>\n                    SET UP INTEGRATIONS\n                  </button>\n                )}\n\n                {step === 3 && (\n                  <button type=\"submit\" disabled={submitMutation.isPending}>\n                    {submitMutation.isPending ? 'PROCESSING...' : 'CONTINUE'}\n                  </button>\n                )}\n              </div>\n            )}\n\n            {errorMessage && <p style={{ color: 'crimson' }}>{errorMessage}</p>}\n          </form>\n        </section>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}